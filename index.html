<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API PUSH Supplier-Phoenix</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;xml&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="xml">xml</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:soporte@hotetec.com'>soporte@hotetec.com</a></li>
            <li><a href='https://xml.hotetec.com'>Acceso Extranet</a></li>
            <li><a href='http://www.hotetec.com'>www.hotetec.com</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introducci-n">Introducción</h1>

<blockquote>
<p>Aquí podrá encontrar ejemplos de las diferente peticiones y repuestas soportadas por la API</p>
</blockquote>

<p>Bienvenido a la documentación online de las especificaciones PUSH de la API <b>Supplier-Phoenix</b>.
A través de esta API PUSH el proveedor podrá gestionar las tarifas e inventario de la plataforma Hotetec a través de XML, así como descargar las reservas realizadas sobre dichas tarifas.</p>

<p>La creación y configuración inicial del hotel, así como de sus tarifas e inventario, se realizará a través de la extranet web
<a href="http://xml.hotetec.com">http://xml.hotetec.com</a>. Una vez realizada la configuración, se podrá utilizar la API PUSH Supplier-Phoenix para realizar
el mantenimiento y gestión diaria. Funcionalidad soportada:</p>

<ul>
<li>Modificación de cupos</li>
<li>Modificación de precios y restricciones (estancias mínimas, release&hellip;)</li>
<li>Gestión de paros de venta</li>
<li>Notificación y consulta de reservas</li>
</ul>

<aside class="success">
<b>NOTA</b>: Gestionar el hotel a través del API PUSH Supplier-Phoenix no impide que se pueda seguir
gestionando el hotel a través de la extranet web. Ambos modos de mantenimiento son compatibles, prevaleciendo siempre la última actualización realizada
</aside>

          <h1 id="control-de-versiones">Control de versiones</h1>

<aside class="notice">Versión actual <b>1.0.0</b></aside>

<table><thead>
<tr>
<th>Fecha</th>
<th>Autor</th>
<th>Versión</th>
<th>Cambios realizados</th>
</tr>
</thead><tbody>
<tr>
<td>07/03/2017</td>
<td>Tomeu Roig</td>
<td>1.0.0</td>
<td>Especificaciones PUSH de la API Supplier-Phoenix</td>
</tr>
</tbody></table>

          <h1 id="protocolo-de-conexi-n">Protocolo de conexión</h1>

<ul>
<li>Mensajería XML sobre HTTP. El proveedor tiene que enviar las peticiones por <b>HTTP RAW POST</b> (POST sin paso de parámetros).</li>
<li>La codificación de los mensajes es <b>UTF-8</b>.</li>
<li>Todos los mensajes soportan compresión <b>gzip</b>. Si el proveedor desea recibir las respuestas XML comprimidas, tiene que especificarlo en las cabeceras HTTP de su petición</li>
</ul>

<p><code class="prettyprint">Accept-encoding: gzip</code></p>

          <h1 id="autenticaci-n">Autenticación</h1>

<blockquote>
<p>Ejemplo elemento credentials, presente en todas las peticiones XML</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="nt">&lt;credentials&gt;</span>
    <span class="nt">&lt;vendorCode&gt;</span>FOO<span class="nt">&lt;/vendorCode&gt;</span>
    <span class="nt">&lt;user&gt;</span>BAR<span class="nt">&lt;/user&gt;</span>
    <span class="nt">&lt;password&gt;</span>FOOBAR<span class="nt">&lt;/password&gt;</span>
<span class="nt">&lt;/credentials&gt;</span>
</code></pre>
<p>Todas las peticiones contienen el elemento xml credentials (ejemplo a la derecha), el cuál contiene las credenciales de autenticación.</p>

<ul>
<li><strong>URL</strong>: https://xml.hotetec.com/supplier-api/supplier/xmlservice.srv</li>
</ul>

<aside class="notice">Por favor, solicitar credenciales de acceso a <b>soporte@hotetec.com</b></aside>

          <h1 id="hotelconfiguration">hotelConfiguration</h1>

<p>Mensaje utilizado para obtener la configuración del hotel. A través de este mensaje, el proveedor podrá obtener todos 
los códigos y tipología para poder gestionar el hotel vía PUSH. Típicamente, este mensaje es el que utiliza el proveedor 
para recuperar los elementos a mapear. En resumen:</p>

<ul>
<li>Habitaciones del hotel así como sus ocupaciones permitidas</li>
<li>Regímenes alimenticios</li>
<li>Tarifas gestionables vía PUSH</li>
</ul>

<h3 id="hotelconfigurationrequest">HotelConfigurationRequest</h3>

<blockquote>
<p>Ejemplo petición HotelConfigurationRequest para recuperar la configuración del hotel 1234 <span class="postman-button"><a href="https://app.getpostman.com/run-collection/495ff7995b655b745365"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman" /></a></span></p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;HotelConfigurationRequest&gt;</span>
   <span class="nt">&lt;credentials&gt;</span>
      <span class="nt">&lt;vendorCode&gt;</span>FOO<span class="nt">&lt;/vendorCode&gt;</span>
      <span class="nt">&lt;user&gt;</span>BAR<span class="nt">&lt;/user&gt;</span>
      <span class="nt">&lt;password&gt;</span>FOOBAR<span class="nt">&lt;/password&gt;</span>
   <span class="nt">&lt;/credentials&gt;</span>
   <span class="nt">&lt;hotelCode&gt;</span>1234<span class="nt">&lt;/hotelCode&gt;</span>
<span class="nt">&lt;/HotelConfigurationRequest&gt;</span>
</code></pre>
<p>Mensaje petición para recuperar la configuración de los hoteles del proveedor. 
Opcionalmente se puede filtrar por código de hotel (hotelCode). 
Si no se indica, en la respuesta aparecerán todos los hoteles que gestiona el proveedor.</p>

<table><thead>
<tr>
<th>Elemento</th>
<th>Tipo</th>
<th>Obl?</th>
<th>Restricciones</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>credentials</td>
<td><strong>Credentials</strong></td>
<td>Sí</td>
<td></td>
<td>Credenciales de autenticación del usuario (Ver Autenticación)</td>
</tr>
<tr>
<td>hotelCode</td>
<td><em>Integer</em></td>
<td>No</td>
<td></td>
<td>Código de hotel</td>
</tr>
</tbody></table>

<h3 id="hotelconfigurationresponse">HotelConfigurationResponse</h3>

<blockquote>
<p>Ejemplo respuesta HotelConfigurationResponse</p>
</blockquote>
<pre class="highlight xml tab-xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;HotelConfigurationResponse&gt;</span>
    <span class="nt">&lt;sessionId&gt;</span>SUP#FOO#123456789<span class="nt">&lt;/sessionId&gt;</span>
    <span class="nt">&lt;hotelConfig&gt;</span>
        <span class="nt">&lt;hotelCode&gt;</span>1234<span class="nt">&lt;/hotelCode&gt;</span>
        <span class="nt">&lt;name&gt;</span>Hotetec Test<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;currencyCode&gt;</span>EUR<span class="nt">&lt;/currencyCode&gt;</span>
        <span class="nt">&lt;roomConfig&gt;</span>
            <span class="nt">&lt;roomCode&gt;</span>SGL#STD<span class="nt">&lt;/roomCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Individual Estándar<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;occupancy&gt;</span>
                <span class="nt">&lt;adults&gt;</span>1<span class="nt">&lt;/adults&gt;</span>
                <span class="nt">&lt;children&gt;</span>0<span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/occupancy&gt;</span>
            <span class="nt">&lt;occupancy&gt;</span>
                <span class="nt">&lt;adults&gt;</span>1<span class="nt">&lt;/adults&gt;</span>
                <span class="nt">&lt;children&gt;</span>1<span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/occupancy&gt;</span>
        <span class="nt">&lt;/roomConfig&gt;</span>        
        <span class="nt">&lt;roomConfig&gt;</span>
            <span class="nt">&lt;roomCode&gt;</span>DBL#STD<span class="nt">&lt;/roomCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Doble Estándar<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;occupancy&gt;</span>
                <span class="nt">&lt;adults&gt;</span>1<span class="nt">&lt;/adults&gt;</span>
                <span class="nt">&lt;children&gt;</span>0<span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/occupancy&gt;</span>
            <span class="nt">&lt;occupancy&gt;</span>
                <span class="nt">&lt;adults&gt;</span>2<span class="nt">&lt;/adults&gt;</span>
                <span class="nt">&lt;children&gt;</span>0<span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/occupancy&gt;</span>
            <span class="nt">&lt;occupancy&gt;</span>
                <span class="nt">&lt;adults&gt;</span>2<span class="nt">&lt;/adults&gt;</span>
                <span class="nt">&lt;children&gt;</span>1<span class="nt">&lt;/children&gt;</span>
            <span class="nt">&lt;/occupancy&gt;</span>
        <span class="nt">&lt;/roomConfig&gt;</span>
        <span class="nt">&lt;mealPlanConfig&gt;</span>
            <span class="nt">&lt;mealPlanCode&gt;</span>RO<span class="nt">&lt;/mealPlanCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Sólo alojamiento<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/mealPlanConfig&gt;</span>
        <span class="nt">&lt;mealPlanConfig&gt;</span>
            <span class="nt">&lt;mealPlanCode&gt;</span>BB<span class="nt">&lt;/mealPlanCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Alojamiento y desayuno<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/mealPlanConfig&gt;</span>
        <span class="nt">&lt;mealPlanConfig&gt;</span>
            <span class="nt">&lt;mealPlanCode&gt;</span>HB<span class="nt">&lt;/mealPlanCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Media pensión<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/mealPlanConfig&gt;</span>
        <span class="nt">&lt;inventoryConfig&gt;</span>
            <span class="nt">&lt;inventoryCode&gt;</span>1<span class="nt">&lt;/inventoryCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Inventario general<span class="nt">&lt;/name&gt;</span>
        <span class="nt">&lt;/inventoryConfig&gt;</span>
        <span class="nt">&lt;rateConfig&gt;</span>
            <span class="nt">&lt;rateCode&gt;</span>BASE<span class="nt">&lt;/rateCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Tarifa Base<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;inventoryCode&gt;</span>1<span class="nt">&lt;/inventoryCode&gt;</span>
            <span class="nt">&lt;cancelPolicyType&gt;</span>Variable<span class="nt">&lt;/cancelPolicyType&gt;</span>
        <span class="nt">&lt;/rateConfig&gt;</span>
        <span class="nt">&lt;rateConfig&gt;</span>
            <span class="nt">&lt;rateCode&gt;</span>OFENRE<span class="nt">&lt;/rateCode&gt;</span>
            <span class="nt">&lt;name&gt;</span>Tarifa No Reembolsable<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;inventoryCode&gt;</span>1<span class="nt">&lt;/inventoryCode&gt;</span>
            <span class="nt">&lt;rateProperty&gt;</span>
                <span class="nt">&lt;name&gt;</span>Destacada<span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/rateProperty&gt;</span>
            <span class="nt">&lt;cancelPolicyType&gt;</span>NonRefundable<span class="nt">&lt;/cancelPolicyType&gt;</span>
        <span class="nt">&lt;/rateConfig&gt;</span>        
    <span class="nt">&lt;/hotelConfig&gt;</span>
<span class="nt">&lt;/HotelConfigurationResponse&gt;</span>
</code></pre>
<p>Mensaje respuesta que contiene la configuración de los hoteles del proveedor (modalidades, regímenes, tarifas&hellip;)</p>

<table><thead>
<tr>
<th>Elemento</th>
<th>Tipo</th>
<th>Obl?</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>hotelConfig[]</td>
<td><strong>HotelConfig</strong></td>
<td></td>
<td>Elemento que contiene la configuración del hotel</td>
</tr>
<tr>
<td>- hotelCode</td>
<td><em>Integer</em></td>
<td>Sí</td>
<td>Código de hotel</td>
</tr>
<tr>
<td>- name</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Nombre de hotel</td>
</tr>
<tr>
<td>- currencyCode</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Código de divisa (Códigos  ISO 4217 )</td>
</tr>
<tr>
<td>- roomConfig[]</td>
<td><strong>RoomConfig</strong></td>
<td>Sí</td>
<td>Configuración de la modalidad de hotel</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- roomCode</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Código de modalidad</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- name</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Nombre de modalidad</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- nestedInventoryRoomCode</td>
<td><em>String</em></td>
<td>No</td>
<td>Código de la modalidad sobre la cuál anida el inventario <sup>1</sup></td>
</tr>
<tr>
<td>&nbsp;&nbsp;- babiesCountInOccupancy</td>
<td><em>Boolean</em></td>
<td>Sí</td>
<td>Indica si los bebés ocupan plaza <sup>2</sup></td>
</tr>
<tr>
<td>&nbsp;&nbsp;- occupancy</td>
<td><strong>Occupancy</strong></td>
<td>Sí</td>
<td>Ocupación permitida en la modalidad</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;- adults</td>
<td><em>Integer</em></td>
<td>Sí</td>
<td>Número de adultos de la ocupación</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;- children</td>
<td><em>Integer</em></td>
<td>Sí</td>
<td>Número de niños de la ocupación</td>
</tr>
<tr>
<td>- mealPlanConfig[]</td>
<td><strong>MealPlanConfig</strong></td>
<td>Sí</td>
<td>Configuración de la regímenes alimenticios de hotel</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- mealPlanCode</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Código de régimen alimentício</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- name</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Nombre de régimen alimentício</td>
</tr>
<tr>
<td>- inventoryConfig[]</td>
<td><strong>InventoryConfig</strong></td>
<td>Sí</td>
<td>Configuración de los inventarios del hotel <sup>3</sup></td>
</tr>
<tr>
<td>&nbsp;&nbsp;- inventoryCode</td>
<td><em>Integer</em></td>
<td>Sí</td>
<td>Código de inventario</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- name</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Nombre de inventario</td>
</tr>
<tr>
<td>- rateConfig[]</td>
<td><strong>RateConfig</strong></td>
<td>Sí</td>
<td>Configuración de las tarifas del hotel</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- rateCode</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Código de tarifa</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- name</td>
<td><em>String</em></td>
<td>Sí</td>
<td>Nombre de tarifa</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- inventoryCode</td>
<td><em>Integer</em></td>
<td>Sí</td>
<td>Inventario asociado a la tarifa</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- rateProperty</td>
<td><strong>RateProperty</strong></td>
<td>No</td>
<td>Propiedad de la tarifa</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;- name</td>
<td><strong>String</strong></td>
<td>Sí</td>
<td>Nombre de la propiedad</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;- value</td>
<td><strong>String</strong></td>
<td>No</td>
<td>Valor de la propiedad. Ej: Propiedad Mayores de, value 55</td>
</tr>
<tr>
<td>&nbsp;&nbsp;- cancelPolicyType</td>
<td><em>Enum</em></td>
<td>Sí</td>
<td>Políticas de cancelación de la tarifa (Free/NonRefundable/Variable)</td>
</tr>
</tbody></table>

<aside class="notice">
<sup>1</sup>&nbsp;&nbsp;&nbsp;Generalmente no vendra informado, sólo en aquellos hoteles que trabajan con modalidades de cupo anidado. Ej: Modalidad Doble uso individual
 utiliza el inventario de la modalidad Doble estándar.
</aside>

<aside class="notice">
<sup>2</sup>&nbsp;&nbsp;&nbsp;Si los bebés ocupan plaza, contabilizarán como children en las ocupaciones permitidas en la modalidad. 
Generalmente, el valor será false.
</aside>

<aside class="notice">
<sup>3</sup>&nbsp;&nbsp;&nbsp;Por norma general, el hotel trabaja con un único inventario y todas la tarifas utilizan el mismo.
En el caso de que el hotel utilice varios, con el inventoryCode podrá distinguir que inventario utiliza cada tarifa.
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="xml">xml</a>
          </div>
      </div>
    </div>
  </body>
</html>
